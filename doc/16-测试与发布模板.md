# 测试与发布（模板）

本文件用于制定测试策略、环境矩阵、发布流程与回滚策略。

---

## 0. 范围与目标
- ...

---

## 1. 测试策略（必须）
- 测试金字塔：...
- 自动化比例：...
- 风险覆盖：...

---

## 2. 环境矩阵（写死）

| 环境 | 用途 | 数据 | 入口 | 负责人 |
|---|---|---|---|---|
| dev | ... | ... | ... | ... |
| stage | ... | ... | ... | ... |
| prod | ... | ... | ... | ... |

---

## 3. 测试清单（最小集）
- 单元测试：...
- 集成测试：...
- 端到端：...
- 性能测试：...
- 安全测试：...
- 手动回归：...

---

## 3A. 破坏性测试（必须）
- 至少 3 个失败案例，写清输入/触发条件与预期行为
- Failure Case 1：... / 预期：...
- Failure Case 2：... / 预期：...
- Failure Case 3：... / 预期：...

---

## 4. 覆盖率与门槛（写死）
- 覆盖率：...
- 阻断条件：...

---

## 5. 发布策略（必须）
- 发布窗口：...
- 灰度方式：...
- 版本号策略：...
- 依赖冻结：...

---

## 5A. Release Manifest（运维动作清单，必须）
- Config Change：Yes/No（关联 `doc/12-配置项清单模板.md`）
- DB Schema Change：Yes/No（关联 `doc/...`）
- Data Migration/Backfill：Yes/No（关联 `doc/...`）
- Secrets/Key 变更：Yes/No
- 定时任务/队列：Yes/No
- 手工操作步骤：...
- 验证步骤：...

---

## 6. 发布步骤（固定）
1) ...
2) ...

---

## 7. 回滚与降级（必须）
- 回滚触发：...
- 回滚步骤：...
- 降级策略：...

---

## 8. 监控与验收（必须）
- 核心指标：...
- 观察窗口：...
- 验收人：...

---

## 9. 变更记录
- 日期：YYYY-MM-DD
- 变更：...
- 文件：...
- 测试：...
